# 構文 — 補足情報

本ドキュメントは [構文（言語仕様）](../reference/syntax.md) の補足情報です。

---

## 設計根拠

### トップレベル定義の順序自由

トップレベル定義の**出現順序は自由**です。
これにより、前方参照が可能となり、ファイル構成の柔軟性が向上します。

### 比較演算子の連鎖禁止

比較演算子（`<` `<=` `>` `>=`）および等価演算子（`==` `!=`）は**連鎖を禁止**します。

```bt-dsl
a < b < c     // 構文エラー
a == b == c   // 構文エラー
```

これにより、Python のような連鎖比較との混乱を防ぎます。

### 文の識別子からの分岐

`statement` は「識別子から始まる文」が複数種類あるため（ノード呼び出し / 代入）、
先頭の `identifier` を左くくり出しし、後続の形で分岐するように定義しています。

---

## 実装定義事項

| 事項 | 説明 |
| :--- | :--- |
| パッケージ形式の import 解決 | 検索パス、循環 import の扱い等 |

---

## 関連仕様への参照

### import の解決規則

`import` の解決規則（絶対パス禁止・拡張子必須・相対パスの基準・非推移的可視性・Public/Private の扱い）は
[意味論 - import の解決](../reference/semantics.md#_4-1-3-import-の解決) を参照してください。

### 演算子の結合規則

2.4.1 の EBNF と2.4.2 の優先順位表は、同一の優先順位/結合規則を表すことを意図しています。

| 演算子 | 結合規則 | 例 |
| :----- | :------- | :- |
| `as`   | 左結合   | `a as T1 as T2` → `(a as T1) as T2` |
| 算術   | 左結合   | `a + b + c` → `(a + b) + c` |
| 論理   | 左結合   | `a && b && c` → `(a && b) && c` |
